
        /* === RESET & BASICS === */
        * { box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
            font-size: 10pt;
            line-height: 1.4;
            color: #1f2937;
            margin: 0;
            padding: 0;
            text-align: justify;
        }

        /* === LAYOUT & PAGE BREAKS === */
        .page-break { page-break-after: always; }
        .no-break { page-break-inside: avoid; }
        
        /* Contenedor de sección indivisible (Título + Contenido) */
        .section-container {
            page-break-inside: avoid;
            margin-bottom: 1em;
            display: block;
        }

        /* === HEADERS === */
        h1, h2, h3, h4 {
            font-family: 'Segoe UI', sans-serif;
            color: #111827;
            margin-top: 0;
            margin-bottom: 0.5em;
            page-break-after: avoid;
        }

        h1 {
            font-size: 22pt;
            color: #1e40af; /* Azul oscuro */
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 5px;
            margin-bottom: 20px;
        }

        h2 {
            font-size: 16pt;
            color: #1e3a8a;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 3px;
            margin-top: 1.5em;
        }
        
        /* En la primera página (después de portada), el primer H1 no debe tener margen top exagerado */
        .content-wrapper > h1:first-child { margin-top: 0; }

        h3 {
            font-size: 13pt;
            color: #2563eb;
            margin-top: 1.2em;
        }

        /* === TEXT & LISTS === */
        p { margin: 0.6em 0; orphans: 3; widows: 3; }
        ul, ol { margin: 0.6em 0; padding-left: 1.5em; }
        li { margin-bottom: 0.3em; }

        /* === CODE BLOCKS === */
        pre {
            background-color: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            padding: 10px;
            margin: 1em 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 9pt;
            line-height: 1.3;
            white-space: pre-wrap; /* Wrap normal para código */
            page-break-inside: avoid;
        }
        
        /* ASCII ART FIX: Sin wrap, scroll hidden, fuente estricta */
        .ascii-art {
            white-space: pre !important;
            overflow: hidden;
            font-family: 'Courier New', monospace;
            font-size: 8pt;
            line-height: 1.1;
        }

        code {
            background-color: #f3f4f6;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Consolas', monospace;
            font-size: 0.95em;
            color: #db2777; /* Pinkish code */
        }

        /* === TABLES === */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5em 0;
            font-size: 9.5pt;
            page-break-inside: avoid;
        }
        
        th {
            background-color: #1e40af;
            color: white;
            text-align: left;
            padding: 8px 12px;
            font-weight: 600;
        }
        
        td {
            border: 1px solid #e5e7eb;
            padding: 8px 12px;
            vertical-align: top;
        }
        
        tr:nth-child(even) { background-color: #f9fafb; }

        /* === CALLOUTS / BLOCKQUOTES === */
        blockquote {
            border-left: 4px solid #3b82f6;
            background-color: #eff6ff;
            margin: 1.5em 0;
            padding: 12px 16px;
            font-style: italic;
            color: #374151;
            page-break-inside: avoid;
        }

        /* === PORTADA DEL MÓDULO === */
        .module-cover {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px solid #1e40af;
            margin: -0.5in; /* Compensar margen del PDF para full bleed simulado */
            margin-bottom: 0;
            padding: 2in;
            page-break-after: always;
        }
        
        .module-cover h1 {
            font-size: 36pt;
            color: #1e3a8a;
            border: none;
            margin-bottom: 0.5em;
        }
        
        .module-cover h2 {
            font-size: 20pt;
            color: #64748b;
            font-weight: normal;
            border: none;
            margin-top: 0;
        }
        
        .module-cover .icon {
            font-size: 80pt;
            margin-bottom: 40px;
            display: block;
        }
        
        /* === UTILS === */
        .hidden { display: none; }
        